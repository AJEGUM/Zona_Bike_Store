<div class="bg-[#242938] p-8 rounded-2xl shadow-xl mx-4 sm:mx-8 lg:mx-20 mt-6">

  <div class="flex items-center">
    <h1 class="text-xl text-white my-6">Gesti칩n de reportes</h1>
  </div>

  <div class="p-2 sm:p-6">

    <!-- Productos m치s vendidos -->
    <h2 class="text-2xl text-white font-bold mb-4">Productos m치s vendidos</h2>

    <div *ngIf="sinRegistrosProductos" class="text-gray-300 text-lg mb-2">
      No hay registros disponibles
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">

      <!-- Donut chart -->
      <div class="bg-[#1f2537] p-4 rounded-2xl shadow-lg flex justify-center items-center">
        <div class="w-full max-w-[450px]"> <!-- 游댠 Hace m치s grande el donut en desktop -->
          <apx-chart [series]="chartDonutOptions.series" [chart]="chartDonutOptions.chart"
            [labels]="chartDonutOptions.labels" [plotOptions]="chartDonutOptions.plotOptions"
            [dataLabels]="chartDonutOptions.dataLabels" [legend]="chartDonutOptions.legend"
            [responsive]="chartDonutOptions.responsive" [stroke]="{ colors: ['#242938'] }">
          </apx-chart>
        </div>
      </div>

      <!-- Contenedor de lista -->
      <div class="bg-[#1f2537] p-5 rounded-2xl shadow-lg">
        <h3 class="text-lg font-semibold text-white mb-4">
          Productos m치s vendidos
        </h3>

        <div *ngIf="sinRegistrosProductos" class="text-gray-300 text-sm">
          No hay productos registrados
        </div>

        <ul *ngIf="!sinRegistrosProductos" class="space-y-3">

          <li *ngFor="let item of listaProductos"
            class="bg-[#2c3248] p-3 rounded-lg flex justify-between items-center border border-[#3a415a]">
            <span class="text-white">{{ item.nombre }}</span>
            <span class="text-blue-400 font-semibold">
              {{ item.total_vendido }}
            </span>
          </li>

        </ul>
      </div>

    </div>


    <!-- Ventas por periodo -->
  <h2 class="text-2xl text-white font-bold mt-10 mb-4">Ventas por categor칤a y mes</h2>

    <!-- Filtros responsivos -->
     <!-- Filtros responsivos -->
<div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-4">

  <!-- Mes -->
  <select [(ngModel)]="mes" class="p-2 rounded bg-white text-black w-full">
    <option value="" disabled>Seleccionar mes</option>
    <option *ngFor="let m of meses" [value]="m.value">
      {{ m.nombre }}
    </option>
  </select>

  <!-- A침o -->
  <input type="number" [(ngModel)]="anio" placeholder="A침o"
         class="p-2 rounded bg-white text-black w-full" />

  <!-- Categor칤a -->
  <select [(ngModel)]="categoriaSeleccionada" class="p-2 rounded bg-white text-black w-full">
    <option value="" disabled>Seleccionar categor칤a</option>
    <option *ngFor="let c of categorias" [value]="c.id_categoria">
      {{ c.nombre }}
    </option>
  </select>

</div>

<!-- Bot칩n -->
<button (click)="cargarVentasPorCategoriaMes()"
  class="bg-blue-600 text-white px-4 py-2 rounded w-full sm:w-auto mb-5">
  Consultar
</button>

<div *ngIf="sinRegistrosCategoriaMes" class="text-gray-300 text-center mb-4">
  No existen ventas para los filtros seleccionados.
</div>

<div class="h-[350px] overflow-x-auto overflow-y-hidden w-full">
  <div class="min-w-[600px]">
    <apx-chart
      [series]="chartBarOptions.series"
      [chart]="chartBarOptions.chart"
      [xaxis]="chartBarOptions.xaxis"
      [yaxis]="chartBarOptions.yaxis"
      [colors]="chartBarOptions.colors"
      [plotOptions]="chartBarOptions.plotOptions"
      [dataLabels]="chartBarOptions.dataLabels"
      [legend]="chartBarOptions.legend"
      [tooltip]="chartBarOptions.tooltip"
      class="w-full"
    >
    </apx-chart>
  </div>
</div>